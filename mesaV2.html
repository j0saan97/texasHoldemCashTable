<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista Multimesa (8 Mesas)</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a;
            /* Usamos Flexbox para centrar la cuadr√≠cula en la pantalla */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* ---------------------------------------------------- */
        /* CUADR√çCULA MAESTRA PARA ORGANIZAR LAS MESAS (CSS Grid)*/
        /* ---------------------------------------------------- */
        .multitable-grid {
            /* Hacemos la cuadr√≠cula tan grande como sea posible en el contenedor padre */
            width: 100%;
            height: 100%; 
            display: grid;
            gap: 1rem; /* Espacio entre las mesas */
            padding: 1rem;
            
            /* Distribuci√≥n optimizada para monitores grandes: 4 columnas */
            grid-template-columns: repeat(4, 1fr); 
            grid-template-rows: repeat(2, 1fr); /* 2 filas */
            max-width: 1920px; /* Limite el ancho para pantallas ultra anchas */
        }

        /* ---------------------------------------------------- */
        /* ESTILOS ESPEC√çFICOS DE CADA MESA (Replicando mesa.html)*/
        /* ---------------------------------------------------- */

        /* Cada div.table-slot contendr√° la mesa individual */
        .table-slot {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* Asegura que la mesa interior se escale correctamente dentro de su slot */
            width: 100%;
            height: 100%;
            /* Borde ligero para delimitar visualmente cada mesa */
            border: 2px solid #333;
            border-radius: 12px;
            padding: 8px;
            box-sizing: border-box;
            background-color: #242424; /* Fondo del slot de la mesa */
        }
        
        /* Define la forma ovalada de la mesa de p√≥ker, compacta */
        .poker-table {
            position: relative;
            /* Usamos unidades relativas al contenedor padre (.table-slot) */
            width: 90%; 
            height: 60%; 
            min-height: 180px; 
            background-color: #0b5331; 
            border: 8px solid #202020; 
            border-radius: 50% / 60%; 
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.7), inset 0 0 8px rgba(0, 0, 0, 0.4);
        }

        /* Contenedor del jugador y sus stats (ajustado para la escala) */
        .player-seat {
            position: absolute;
            width: 100px; /* M√°s peque√±o para que quepa en la cuadr√≠cula */
            height: 60px; 
            z-index: 10;
            border: 1px solid #444; 
            background-color: #1f1f1f; 
            border-radius: 6px; 
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
            padding: 4px; 
        }

        /* Posicionamiento de los 6 asientos (Ajustado para el tama√±o reducido) */
        .seat-1 { top: -15px; left: 10%; transform: translateX(-50%); } 
        .seat-2 { top: -15px; right: 10%; transform: translateX(50%); } 
        .seat-3 { top: 50%; right: -40px; transform: translateY(-50%); } 
        .seat-6 { top: 50%; left: -40px; transform: translateY(-50%); } 
        .seat-4 { bottom: -15px; right: 10%; transform: translateX(50%); } 
        .seat-5 { bottom: -15px; left: 10%; transform: translateX(-50%); } 

        /* Estilos de la carta comunitaria (m√°s peque√±a) */
        .card-placeholder {
            width: 30px; 
            height: 45px; 
            border-radius: 3px; 
            font-size: 0.8rem; 
            /* Estilos omitidos por brevedad, se centra en el tama√±o */
        }

        /* Barrita de Acciones de la mesa (ajustada) */
        .action-bar-compact {
            width: 90%;
            margin-top: 10px;
            background-color: #1c1c1c;
            padding: 6px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
        }

        .action-bar-compact button {
            font-size: 0.6rem; 
            padding: 4px 8px;
            font-weight: 600;
        }

        .stack-display {
            font-size: 0.8rem; /* M√°s peque√±o */
        }
    </style>
</head>
<body>

    <!-- Cuadr√≠cula CSS para 8 mesas -->
    <div class="multitable-grid">
        <!-- 8 Slots de Mesa -->
        <div class="table-slot">
            <div class="poker-table">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 2.166 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">A</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <!-- Simulaci√≥n de asientos (solo el contenedor) -->
                <div id="player-seats-container-1"></div>
            </div>
            <!-- Barra de acci√≥n compacta por mesa -->
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
             <!-- Estructura de mesa 2 id√©ntica a la 1, solo cambia el ID del contenedor de asientos -->
            <div class="poker-table">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 1.500 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-blue-600 flex items-center justify-center">7</div>
                        <div class="card-placeholder bg-white text-blue-600 flex items-center justify-center">7</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-2"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
            <div class="poker-table">
                 <!-- Estructura de mesa 3 id√©ntica a la 1 -->
                 <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 3.200 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-green-600 flex items-center justify-center">J</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">10</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">9</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">8</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-3"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
            <div class="poker-table">
                 <!-- Estructura de mesa 4 id√©ntica a la 1 -->
                 <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 800 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-4"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>
        
        <div class="table-slot">
             <!-- Estructura de mesa 5 id√©ntica a la 1 -->
            <div class="poker-table">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 2.166 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">A</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-5"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
             <!-- Estructura de mesa 6 id√©ntica a la 1 -->
            <div class="poker-table">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 1.500 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-blue-600 flex items-center justify-center">7</div>
                        <div class="card-placeholder bg-white text-blue-600 flex items-center justify-center">7</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-6"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
             <!-- Estructura de mesa 7 id√©ntica a la 1 -->
            <div class="poker-table">
                 <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 3.200 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-white text-green-600 flex items-center justify-center">J</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">10</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">9</div>
                        <div class="card-placeholder bg-white text-red-600 flex items-center justify-center">8</div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-7"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>

        <div class="table-slot">
             <!-- Estructura de mesa 8 id√©ntica a la 1 -->
            <div class="poker-table">
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center">
                    <div class="text-white text-base font-bold bg-black/40 px-1 py-0.5 rounded-md mb-1">Bote: 800 ‚Ç¨</div>
                    <div class="flex gap-1 justify-center">
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                        <div class="card-placeholder bg-gray-500/80"></div>
                    </div>
                </div>
                <div id="player-seats-container-8"></div>
            </div>
            <div class="action-bar-compact">
                <button class="bg-red-800 text-white rounded-md">Fold</button>
                <button class="bg-orange-600 text-white rounded-md">Call 438</button>
                <button class="bg-green-700 text-white rounded-md">Raise 1.2k</button>
            </div>
        </div>
    </div>
    
    <!-- Script para inyectar los jugadores en cada mesa (usando la l√≥gica de mesa.html) -->
    <script>
        // Datos de ejemplo para simular la vista del diagrama
        const jugadoresEjemplo = [
            { id: 1, nombre: "Jugador 1", stack: 18.951, bet: 0.11, posClass: "seat-6", avatar: "üÉè" },
            { id: 2, nombre: "Jugador 2", stack: 16.879, bet: 0.11, posClass: "seat-1", avatar: "üë§" },
            { id: 3, nombre: "Jugador 3", stack: 35.080, bet: 0.11, posClass: "seat-2", avatar: "üë±‚Äç‚ôÄÔ∏è", isDealer: true },
            { id: 4, nombre: "Jugador 4", stack: 38.263, bet: 0.16, posClass: "seat-3", avatar: "üë§" },
            { id: 5, nombre: "Jugador 5", stack: 23.966, bet: 0.16, posClass: "seat-5", avatar: "üë§" },
            { id: 6, nombre: "Jugador 6", stack: 19.610, bet: 0, posClass: "seat-4", avatar: "üë§", isAction: true, handRank: "Carta Alta: K" }
        ];

        // Se usa la plantilla del archivo mesa.html, pero ajustada para la escala reducida
        function generarHTMLJugador(jugador) {
            const betChips = jugador.bet > 0 
                ? `<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 flex flex-col items-center">
                      <div class="text-xs font-semibold text-white bg-red-700/80 px-0.5 rounded-sm mb-0.5">${jugador.bet} ‚Ç¨</div>
                      <div class="w-3 h-3 bg-red-700 rounded-full border border-red-500 shadow-md"></div>
                   </div>`
                : '';
                
            const cardBacks = `
                <div class="w-6 h-8 bg-gray-700 rounded-sm border-2 border-gray-500 flex items-center justify-center shadow-inner">
                    <span class="text-white text-sm">W</span>
                </div>
                <div class="w-6 h-8 bg-gray-700 rounded-sm border-2 border-gray-500 flex items-center justify-center shadow-inner">
                    <span class="text-white text-sm">W</span>
                </div>
            `;

            const handInfo = jugador.handRank 
                ? `<div class="text-yellow-400 text-xs font-semibold mt-0.5">${jugador.handRank}</div>`
                : '';

            const dealerButton = jugador.isDealer 
                ? `<div class="position-chip absolute -right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[0.5rem]">D</div>`
                : '';

            return `
                <div id="player-${jugador.id}" class="player-seat ${jugador.posClass} ${jugador.isAction ? 'ring-1 ring-yellow-500 ring-opacity-70' : ''}">
                    ${dealerButton}
                    <div class="flex flex-col items-center text-center p-0.5">
                        <div class="w-6 h-6 bg-gray-600 rounded-full mb-0.5 flex items-center justify-center text-xs text-white border border-gray-400">
                            ${jugador.avatar}
                        </div>
                        <div class="flex flex-col items-center w-full">
                            <span class="stack-display">$${jugador.stack.toFixed(3)}</span>
                            ${handInfo}
                        </div>
                        
                        <div class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex gap-1">
                            ${cardBacks}
                        </div>
                        
                        <div class="absolute -bottom-10 left-1/2 transform -translate-x-1/2">
                            <div class="flex flex-col items-center">
                                ${betChips}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * Inicializa todas las mesas.
         */
        function inicializarMultimesa() {
            const jugadoresHTML = jugadoresEjemplo.map(generarHTMLJugador).join('');

            // Itera sobre los 8 contenedores y les inyecta los jugadores
            for (let i = 1; i <= 8; i++) {
                const seatsContainer = document.getElementById(`player-seats-container-${i}`);
                if (seatsContainer) {
                    seatsContainer.innerHTML = jugadoresHTML;
                }
            }
            console.log(`Cuadr√≠cula de ${8} mesas inicializada.`);
        }

        document.addEventListener('DOMContentLoaded', inicializarMultimesa);
    </script>
</body>
</html>